<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>{{ title}}</title>
</head>
<body>

    <script>
        var arr = [
            {% for course in course_list %}
                {% if not forloop.first %},{% endif %}
                "{{ course.name }}"
            {% endfor %}
        ];
    </script>


    <div style="background-color: #005cbf">
        <input type="text" onkeyup="changeInput(this.value)">
        <div id="result"></div>
    </div>

    <b>Professors list</b> <br>
    {% for prof in prof_list %}
        <div>
        {{ prof.name }}
        </div>
    {% endfor %}
    <hr>

    <b>Courses list</b> <br>
    {% for course in course_list %}
        <div>
        {{ course.name }}
        </div>
    {% endfor %}
    <hr>

    <b>Exams</b> <br>
    {% for exam in exam_list %}
        <div>
            name: {{ exam.course.name }} <br>
            file_name: {{ exam.file.name }} <br>
            created_at: {{ exam.created_at | timesince}} ago <br>
            <br>
        </div>
    {% endfor %}


    <form id="post_form" method="post" action="/main/" enctype="multipart/form-data">
            {%	csrf_token	%}
            {%	for	hidden in form.hidden_fields %}
                    {{ hidden }}
            {%	endfor %}
            {%	for	field in form.visible_fields %}
                    {{ field.errors }}
                    {{ label_tag }}
                    {{ field }}<br>
            {% endfor %}
            <br>
            <input type="submit" name="submit" value="Create Post">
    </form>

    <script>
        function matchPeople(input) {
          var reg = new RegExp(input.split('').join('\\w*').replace(/\W/, ""), 'i');
          return arr.filter(function(person) {
            if (person.match(reg)) {
              return person;
            }
          });
        }

        function changeInput(val) {
          var autoCompleteResult = matchPeople(val);
          document.getElementById("result").innerHTML = autoCompleteResult;
        }
    </script>

</body>
</html>