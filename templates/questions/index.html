{% extends 'base.html' %}
{% block content %}
    {% load staticfiles %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!--  button add bootstrap -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <title>{{ title }}</title>
</head>
<body>
{% for question in question_list %}
    <div class="question_specific" pk="{{ question.pk }}">
        <div>{{ question.content }}</div><br>
            {{ question.created_at | timesince }}
        <hr>
    </div>
    <div id="{{ question.pk }}" style="background-color: blue">
    </div>

{% endfor %}

<script src="https://code.jquery.com/jquery-3.3.1.min.js"></script>

<script>
    $(document).ready(function () {
        $(".question_specific").click(function () {
            var pk = $(this).attr('pk');

            $.ajax({
                url: '/questions/get_answer/',
                data: {
                    'question_pk': pk
                },
                dataType: 'json',
                success: function (data) {
                    {#alert(data);#}
                    $('#'+data[0].question_pk).html('');
                    $.each(data, function (index, value) {
                        $('#'+value.question_pk).append('<p>' + value.created_at + '<br>' + value.content + '</p>');
                        {#alert(value.content);#}
                    });
                }
            });

        });
    });
  </script>
</body>
</html>
{% endblock %}